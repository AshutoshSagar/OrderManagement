{"ast":null,"code":"var _jsxFileName = \"/Users/ashutoshsagar/Documents/Summer/Cloud/Term_Assignment/Frontend/ordermanagementui/src/RegistrationForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { TextField, Button, Box, Typography, Dialog, DialogTitle, DialogContent, DialogActions, CircularProgress } from '@mui/material';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RegistrationForm({\n  handleRegistrationSuccess,\n  title\n}) {\n  _s();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [openDialog, setOpenDialog] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const handleRegister = async () => {\n    try {\n      setIsLoading(true); // Start the loader\n      const response = await axios.post('https://xu6ntnv8il.execute-api.us-west-2.amazonaws.com/v1/register-user', {\n        name,\n        email,\n        phone\n      });\n      const {\n        user_id\n      } = response.data;\n      localStorage.setItem('user_id', user_id);\n\n      // Show the confirmation dialog\n      setOpenDialog(true);\n      setIsLoading(false); // Stop the loader\n    } catch (error) {\n      console.error(error);\n      // Handle registration error here\n      setIsLoading(false); // Stop the loader in case of an error\n    }\n  };\n\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n    // Inform the parent component about successful registration\n    handleRegistrationSuccess(localStorage.getItem('user_id'));\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    my: 2,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Name\",\n      value: name,\n      onChange: e => setName(e.target.value),\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Email\",\n      value: email,\n      onChange: e => setEmail(e.target.value),\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Phone\",\n      value: phone,\n      onChange: e => setPhone(e.target.value),\n      variant: \"outlined\",\n      margin: \"normal\",\n      required: true,\n      fullWidth: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: handleRegister,\n      children: isLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 22\n      }, this) : 'Register'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openDialog,\n      onClose: handleCloseDialog,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Thank you for registering!!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          children: \"We have sent a subscription request to your provided email address. Please confirm your subscription to proceed.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleCloseDialog,\n          color: \"primary\",\n          children: \"Ok\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(RegistrationForm, \"LK1erQ5bcrCtLg6+pT3lyoAeD9k=\");\n_c = RegistrationForm;\nexport default RegistrationForm;\nvar _c;\n$RefreshReg$(_c, \"RegistrationForm\");","map":{"version":3,"names":["React","useState","TextField","Button","Box","Typography","Dialog","DialogTitle","DialogContent","DialogActions","CircularProgress","axios","jsxDEV","_jsxDEV","RegistrationForm","handleRegistrationSuccess","title","_s","name","setName","email","setEmail","phone","setPhone","openDialog","setOpenDialog","isLoading","setIsLoading","handleRegister","response","post","user_id","data","localStorage","setItem","error","console","handleCloseDialog","getItem","display","flexDirection","alignItems","justifyContent","my","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","label","value","onChange","e","target","margin","required","fullWidth","color","onClick","size","open","onClose","_c","$RefreshReg$"],"sources":["/Users/ashutoshsagar/Documents/Summer/Cloud/Term_Assignment/Frontend/ordermanagementui/src/RegistrationForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { TextField, Button, Box, Typography, Dialog, DialogTitle, DialogContent, DialogActions, CircularProgress } from '@mui/material';\nimport axios from 'axios';\n\nfunction RegistrationForm({ handleRegistrationSuccess, title }) {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const [openDialog, setOpenDialog] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleRegister = async () => {\n    try {\n      setIsLoading(true); // Start the loader\n      const response = await axios.post(\n        'https://xu6ntnv8il.execute-api.us-west-2.amazonaws.com/v1/register-user',\n        {\n          name,\n          email,\n          phone,\n        }\n      );\n\n      const { user_id } = response.data;\n      localStorage.setItem('user_id', user_id);\n\n      // Show the confirmation dialog\n      setOpenDialog(true);\n      setIsLoading(false); // Stop the loader\n    } catch (error) {\n      console.error(error);\n      // Handle registration error here\n      setIsLoading(false); // Stop the loader in case of an error\n    }\n  };\n\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n    // Inform the parent component about successful registration\n    handleRegistrationSuccess(localStorage.getItem('user_id'));\n  };\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\" justifyContent=\"center\" my={2}>\n      <Typography variant=\"h5\" gutterBottom>\n        {title}\n      </Typography>\n      <TextField\n        label=\"Name\"\n        value={name}\n        onChange={(e) => setName(e.target.value)}\n        variant=\"outlined\"\n        margin=\"normal\"\n        required\n        fullWidth\n      />\n      <TextField\n        label=\"Email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        variant=\"outlined\"\n        margin=\"normal\"\n        required\n        fullWidth\n      />\n      <TextField\n        label=\"Phone\"\n        value={phone}\n        onChange={(e) => setPhone(e.target.value)}\n        variant=\"outlined\"\n        margin=\"normal\"\n        required\n        fullWidth\n      />\n      <Button variant=\"contained\" color=\"primary\" onClick={handleRegister}>\n        {isLoading ? <CircularProgress size={24} /> : 'Register'}\n      </Button>\n      {/* Confirmation Dialog */}\n      <Dialog open={openDialog} onClose={handleCloseDialog}>\n        <DialogTitle>Thank you for registering!!</DialogTitle>\n        <DialogContent>\n          <Typography variant=\"body1\">\n            We have sent a subscription request to your provided email address. Please\n            confirm your subscription to proceed.\n          </Typography>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCloseDialog} color=\"primary\">\n            Ok\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n}\n\nexport default RegistrationForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}